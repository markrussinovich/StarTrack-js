<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>GitHub Star History and Stats</title>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://unpkg.com/nprogress@0.2.0/nprogress.js"></script>
    <script src="resources/StarTrack.js"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-104097715-1', 'auto');
      ga('send', 'pageview');
    </script>
    <link rel="icon" href="resources/StarTrack.ico">
    <link rel="stylesheet" href="https://unpkg.com/nprogress@0.2.0/nprogress.css">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="resources/style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.2/gh-fork-ribbon.min.css" />
  <!--[if lt IE 9]>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-fork-ribbon-css/0.2.2/gh-fork-ribbon.ie.min.css" />
  <![endif]-->
  </head>
  <body>
    <div id="st-header" class="st-header">
      <table>
        <tr valign="top">
          <td>
            <div id="login-button" class="login-btn">
              <a id="github-auth" href="javascript:openGithubAuthDialog();">GitHub Authentication</a>
            </div>
          </td>
          <td>
            <div id="logout-btn" class="logout"> 
              <a href="javascript:removeGithubAuth();">Log Out</a>
            </div>
          </td>
        </tr>
      </table>
    </div>
    <div id="content">
      <a class="github-fork-ribbon" href="https://github.com/seladb/StarTrack-js" data-ribbon="Fork me on GitHub" title="Fork me on GitHub">Fork me on GitHub</a>
      <div class="startrack-frame repo-details">
        <table class="">
          <tbody>
            <tr valign="top">
              <td>
                <p>Repository name:</p>
              </td>
              <td>
                <input id="user" placeholder="GitHub User..." type="text" title="e.g: seladb" />
              </td>
              <td>
                <p>/</p>
              </td>
              <td>
                <input id="repo" placeholder="GitHub Repo..." type="text" title="e.g: PcapPlusPlus" />
              </td>
              <td>
                <select disabled id="add_or_replace">
                  <option value="replace" selected="selected">Replace current plot</option>
                  <option value="add">Add another plot</option>
                </select>
              </td>
              <td>
                <input type="button" value="go" id="gobtn" class="gobtn" onclick="javascript:go();">
                <div class="loader" id="loading" style="display:none"></div>
              </td>
            </tr>
            <tr valign="top">
              <td>
                <p>Repo listing file:</p>
              </td>
              <td>
                <input type="file" id="file" align="left" onchange="javascript:loadRepos(this.files);"/>
                <label align="left" for="file" />select</label>    
              </td>                        
            </tr>
          </tbody>
        </table>
      </div>

  

      <a href="#" class="scrollToBottom" title="Scroll to bottom">
        <img src="resources/down-circular-64.png" />
      </a>
      <div id="plot-container" class="startrack-frame plot"></div>
      <div id="stats-container" class="stats-table"></div>
      <div id="url-container" class="startrack-frame url-container" >
        <table>
          <tr>
              <td>
                <a>URL:</a>
              </td>
            <td>
              <input id="url-box" class="url-box" readonly="readonly" type="text" onclick="this.select();">
            </td>
          </tr>
        </table>
      </div>
    </div>
    <div id="github_auth_dialog" title="GitHub Authentication" style="display:none">
      <p>GitHub API <a href="https://developer.github.com/v3/#rate-limiting" target="_blank">rate limiter</a> makes it impossible to collect stargazer data on repos with more than 3000 stars without GitHub authentication.</p>
      <p>If you'd like to view stargazer data for this repo, please provide your GitHub auth details.</p>
      <p>Please note these credentials aren't sent to any server. This application is based on pure javascript so the credentials are only used to send authenticated requests to GitHub API.</p>
      <input type="radio" name="auth_group" value="userandpass" checked="true">Either provide GitHub username and password:</input>
      <div id="userandpass_input" class="boxed">
        <div>
          <div><label>GitHub username</label></div>
          <div><input type="text" id="github_username" class="text ui-widget-content ui-corner-all"></div>
        </div>
        <div>
          <div><label>GitHub password</label></div>
          <div><input type="password" id="github_password" class="text ui-widget-content ui-corner-all"></div>
        </div>
      </div>
      <p></p>
      <input type="radio" name="auth_group" value="token">Or provide GitHub access token (generate one <a href="https://github.com/settings/tokens">here</a>):</input>
      <div id="token_input" class="boxed">
        <div><label>Access token</label></div>
        <div><input type="password" id="github_token" size="50" class="text ui-widget-content ui-corner-all"></div>
      </div>
      <div>
        <p>
          <input type="checkbox" id="save_in_local_storage_chkbox">Save authentication details in local storage<br>
        </p>
      </div>
    </div>
  </body>
</html>
